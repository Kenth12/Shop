{% extends "base.html" %}

{% block title %}Carrito{% endblock %}

{% block content %}
<section class="card">
  <h2>Tu carrito</h2>
  {% if cart %}
  <ul style="list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:0.75rem">
    {% for item in cart %}
    <li style="background:var(--surface);border-radius:8px;padding:0.75rem;display:flex;justify-content:space-between;align-items:center">
      <div>
        <div style="font-weight:700">{{ item.name }}</div>
        <div class="muted small">Cantidad: {{ item.quantity }} — Precio: ${{ "%.2f"|format(item.price) }}</div>
      </div>
      <div style="display:flex;gap:0.5rem;align-items:center">
        <form method="post" action="{{ url_for('cart_remove') }}">
          <input type="hidden" name="product_id" value="{{ item.product_id }}" />
          <button class="button ghost small" type="submit">Eliminar</button>
        </form>
      </div>
    </li>
    {% endfor %}
  </ul>
  <form method="post" action="{{ url_for('cart_checkout') }}" style="margin-top:1rem">
    <button class="button primary" type="submit">Pagar ahora</button>
  </form>
  {% else %}
  <p>Tu carrito está vacío.</p>
  {% endif %}
</section>
{% endblock %}
